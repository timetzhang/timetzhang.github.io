{"version":3,"sources":["webpack:///static/js/0.8ac8f3bd797183647398.js","webpack:///./src/common/datetime.js","webpack:///home.vue","webpack:///./src/pages/home.vue?6de1","webpack:///./src/pages/home.vue?53c4","webpack:///./src/pages/home.vue?b3e6","webpack:///./src/pages/home.vue"],"names":["webpackJsonp","105","module","__webpack_exports__","__webpack_require__","dateFormat","value","da","Date","replace","split","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getTimespan","time","tarTime","this","now","span","getTime","days","Math","floor","leave1","hours","leave2","minutes","leave3","seconds","round","115","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default","__WEBPACK_IMPORTED_MODULE_2__common_datetime__","__WEBPACK_IMPORTED_MODULE_3__common_browser__","name","data","articles","category","$route","params","keyword","isMobile","mobile","currentPage","pageSize","loadingMoreText","mounted","_ref","apply","arguments","a","mark","_callee","wrap","_context","prev","next","getArticle","stop","methods","_this","_callee2","_context2","$db","pagenum","pagesize","sent","length","forEach","element","push","getMoreArticle","resetArticle","watch","_this2","_callee3","_context3","124","exports","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","133","content","locals","143","render","_vm","_h","$createElement","_c","_self","_l","item","key","id","staticClass","attrs","to","_id","src","image","_v","_s","view_count","brief","staticStyle","margin-bottom","on","click","staticRenderFns","24","injectStyle","ssrContext","Component"],"mappings":"AAAAA,cAAc,IAERC,IACA,SAAUC,EAAQC,EAAqBC,GAE7C,YCEAD,GAAA,GACIE,WADW,SACAC,GACP,GAAIC,GAAK,GAAIC,MAAKF,EAAMG,QAAQ,SAAU,IAAIA,QAAQ,KAAM,IAAIC,MAAM,KAAK,GAC3E,OAAOH,GAAGI,cAAgB,KAAQJ,EAAGK,WAAa,EAAK,GAAK,KAAOL,EAAGK,WAAa,GAAML,EAAGK,WAAa,GAAM,KAAOL,EAAGM,UAAY,GAAK,IAAMN,EAAGM,UAAYN,EAAGM,WAAa,KAAON,EAAGO,WAAa,GAAK,IAAMP,EAAGO,WAAaP,EAAGO,YAAc,KAAOP,EAAGQ,aAAe,GAAK,IAAMR,EAAGQ,aAAeR,EAAGQ,cAAgB,KAAOR,EAAGS,aAAe,GAAK,IAAMT,EAAGS,aAAeT,EAAGS,eAExXC,YALW,SAKCC,GACR,GAAIC,GAAU,GAAIX,MAAKY,KAAKf,WAAWa,IACnCG,EAAM,GAAIb,MACVc,EAAOD,EAAIE,UAAYJ,EAAQI,UAE/BC,EAAOC,KAAKC,MAAMJ,QACtB,IAAIE,EAAO,EACP,MAAOA,GAAO,WAClB,IAAIG,GAASL,QACTM,EAAQH,KAAKC,MAAMC,OACvB,IAAIC,EAAQ,EACR,MAAOA,GAAQ,YACnB,IAAIC,GAASF,OACTG,EAAUL,KAAKC,MAAMG,MACzB,IAAIC,EAAU,EACV,MAAOA,GAAU,cACrB,IAAIC,GAASF,MACTG,EAAUP,KAAKQ,MAAMF,EAAS,IAClC,OAAIC,GAAU,EACHA,EAAU,mBADrB,MDSFE,IACA,SAAUhC,EAAQC,EAAqBC,GAE7C,YACA+B,QAAOC,eAAejC,EAAqB,cAAgBG,OAAO,GAC7C,IAAI+B,GAA0DjC,EAAoB,IAC9EkC,EAAkElC,EAAoBmC,EAAEF,GACxFG,EAAuEpC,EAAoB,IAC3FqC,EAA+ErC,EAAoBmC,EAAEC,GACrGE,EAAiDtC,EAAoB,KACrEuC,EAAgDvC,EAAoB,GEzB7FD,GAAA,SFqDEyC,KEnDF,OFoDEC,KAAM,WACJ,OACEC,YACAC,SAAU3B,KAAK4B,OAAOC,OEnD5BF,SFoDMG,QAAS9B,KAAK4B,OAAOC,OEnD3BC,QFoDMC,SAAUR,EAA+D,EEnD/ES,OFoDMC,YEnDN,EFoDMC,SElDN,GFqDMC,gBElDN,WFsDEC,QAAS,WAgBP,QAASA,KACP,MAAOC,GAAKC,MAAMtC,KAAMuC,WAhB1B,GAAIF,GAAOhB,IAA6FH,EAAgEsB,EAAEC,KAAK,QAASC,KErD5L,MAAAxB,GAAAsB,EAAAG,KAAA,SAAAC,GFuDQ,OACE,OAAQA,EAASC,KAAOD,EAASE,MAC/B,IAAK,GACH9C,KExDd+C,YF0DY,KAAK,GACL,IAAK,MACH,MAAOH,GAASI,SAGrBN,EAAS1C,QAOd,OAAOoC,MAETa,SACEF,WAAY,WEvEhB,GAAAG,GAAAlD,IF0EM,OAAOqB,KAA6FH,EAAgEsB,EAAEC,KAAK,QAASU,KAClL,GAAI1B,EACJ,OAAOP,GAAgEsB,EAAEG,KAAK,SAAmBS,GAC/F,OACE,OAAQA,EAAUP,KAAOO,EAAUN,MACjC,IAAK,GAIH,GAFArB,KAEOyB,EAAMtB,OAAOC,OAAOF,UAAauB,EAAMtB,OAAOC,OEhFrEC,QAAA,CFiFkBsB,EAAUN,KAAO,CACjB,OAIF,MADAM,GAAUN,KAAO,EACVI,EAAMG,IAAIN,WAAWG,GAC1BI,QAASJ,EErF3BjB,YFsFkBsB,SAAUL,EEnF5BhB,UFsFc,KAAK,GACHT,EAAO2B,EAAUI,IAEnB,KAAK,GACH,IAAKN,EAAMtB,OAAOC,OEzFlCF,SAAA,CF0FkByB,EAAUN,KAAO,CACjB,OAIF,MADAM,GAAUN,KAAO,EACVI,EAAMG,IAAIN,WAAWG,GAC1BvB,SAAUuB,EE9F5BvB,SF+FkB2B,QAASJ,EE9F3BjB,YF+FkBsB,SAAUL,EE5F5BhB,UF+Fc,KAAK,GACHT,EAAO2B,EAAUI,IAEnB,KAAK,GACH,IAAKN,EAAMtB,OAAOC,OElGlCC,QAAA,CFmGkBsB,EAAUN,KAAO,EACjB,OAIF,MADAM,GAAUN,KAAO,GACVI,EAAMG,IAAIN,WAAWG,GAC1BpB,QAASoB,EEvG3BpB,QFwGkBwB,QAASJ,EEvG3BjB,YFwGkBsB,SAAUL,EEpG5BhB,UFuGc,KAAK,IACHT,EAAO2B,EAAUI,IAEnB,KAAK,IAEC/B,EAAKgC,QAAU,EACjBP,EAAMf,gBE3GxB,QF8GkBV,EAAKiC,QAAQ,SAAUC,GACrBA,EAAQ7D,KAAOwB,EAAgE,EAAErC,WAAW0E,EE1GhH7D,MF2GoBE,KAAK0B,SAASkC,KE1GlCD,IACAT,EF6Gc,KAAK,IACL,IAAK,MACH,MAAOE,GAAUJ,SAGtBG,EAAUD,SAGjBW,eAAgB,WACd7D,KElHNiC,cFmHMjC,KElHN+C,cFoHIe,aAAc,WACZ9D,KAAK0B,YACL1B,KAAKiC,YElHX,EFmHMjC,KAAKmC,gBElHX,WFqHE4B,OACEnC,OAAU,WElHd,GAAAoC,GAAAhE,IFqHM,OAAOqB,KAA6FH,EAAgEsB,EAAEC,KAAK,QAASwB,KAClL,MAAO/C,GAAgEsB,EAAEG,KAAK,SAAmBuB,GAC/F,OACE,OAAQA,EAAUrB,KAAOqB,EAAUpB,MACjC,IAAK,GACHkB,EAAOrC,SAAWqC,EAAOpC,OAAOC,OEzHhDF,SF0HgBqC,EAAOlC,QAAUkC,EAAOpC,OAAOC,OEzH/CC,QF0HgBkC,EEzHhBF,eF0HgBE,EEzHhBjB,YF2Hc,KAAK,GACL,IAAK,MACH,MAAOmB,GAAUlB,SAGtBiB,EAAUD,YAQfG,IACA,SAAUrF,EAAQsF,EAASpF,GGvOjCoF,EAAAtF,EAAAsF,QAAApF,EAAA,QAKAoF,EAAAR,MAAA9E,EAAAuF,EAAA,+GAAsI,IAAQC,QAAA,EAAAC,SAAA,0CAAAC,SAAAC,SAAA,+CAAAC,KAAA,WAAAC,gBAAA,wIAA6SC,WAAA,OHgPrbC,IACA,SAAU/F,EAAQsF,EAASpF,GInPjC,GAAA8F,GAAA9F,EAAA,IACA,iBAAA8F,SAAAhG,EAAAuF,EAAAS,EAAA,MACAA,EAAAC,SAAAjG,EAAAsF,QAAAU,EAAAC,OAEA/F,GAAA,eAAA8F,GAAA,IJ4PME,IACA,SAAUlG,EAAQsF,GKpQxBtF,EAAAsF,SAAgBa,OAAA,WAAmB,GAAAC,GAAAlF,KAAamF,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OAAAH,EAAAK,GAAAL,EAAA,kBAAAM,GACA,MAAAH,GAAA,eACAI,IAAAD,EAAAE,GACAC,YAAA,eACAC,OACAC,GAAA,eAAAL,EAAAM,OAEKT,EAAA,OACLM,YAAA,UACKN,EAAA,OACLO,OACAG,IAAAP,EAAAQ,WAEKX,EAAA,OACLM,YAAA,YACKN,EAAA,OACLM,YAAA,SACKT,EAAAe,GAAAf,EAAAgB,GAAAV,EAAAhE,SAAA6D,EAAA,OACLM,YAAA,SACKN,EAAA,OACLM,YAAA,SACKN,EAAA,KACLM,YAAA,kBACKN,EAAA,QAAAH,EAAAe,GAAAf,EAAAgB,GAAAV,EAAA1F,WAAAuF,EAAA,QAAAH,EAAAe,GAAA,OAAAZ,EAAA,OACLM,YAAA,eACKN,EAAA,KACLM,YAAA,sBACKN,EAAA,QAAAH,EAAAe,GAAAf,EAAAgB,GAAAV,EAAAW,mBAAAd,EAAA,OACLM,YAAA,UACKT,EAAAe,GAAAf,EAAAgB,GAAAV,EAAAY,gBACFf,EAAA,OACHM,YAAA,mBACGN,EAAA,UACHM,YAAA,cACAU,aACAC,gBAAA,QAEAC,IACAC,MAAAtB,EAAArB,kBAEGqB,EAAAe,GAAAf,EAAAgB,GAAAhB,EAAA/C,uBAAA,IACFsE,qBL0QKC,GACA,SAAU5H,EAAQsF,EAASpF,GMrTjC,QAAA2H,GAAAC,GACA5H,EAAA,KAEA,GAAA6H,GAAA7H,EAAA,IAEAA,EAAA,KAEAA,EAAA,KAEA2H,EAEA,kBAEA,KAGA7H,GAAAsF,QAAAyC,EAAAzC","file":"static/js/0.8ac8f3bd797183647398.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 105:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/*\r\n * Name: datetime.js\r\n * Desc: date and time formatter\r\n * Author: T.T\r\n * Last Update: 2017/5/12 09:13\r\n */\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    dateFormat: function dateFormat(value) {\n        var da = new Date(value.replace(\"/Date(\", \"\").replace(\")/\", \"\").split(\"+\")[0]);\n        return da.getFullYear() + \"-\" + (da.getMonth() + 1 < 10 ? \"0\" + (da.getMonth() + 1) : da.getMonth() + 1) + \"-\" + (da.getDate() < 10 ? \"0\" + da.getDate() : da.getDate()) + \" \" + (da.getHours() < 10 ? \"0\" + da.getHours() : da.getHours()) + \":\" + (da.getMinutes() < 10 ? \"0\" + da.getMinutes() : da.getMinutes()) + \":\" + (da.getSeconds() < 10 ? \"0\" + da.getSeconds() : da.getSeconds());\n    },\n    getTimespan: function getTimespan(time) {\n        var tarTime = new Date(this.dateFormat(time));\n        var now = new Date();\n        var span = now.getTime() - tarTime.getTime();\n\n        var days = Math.floor(span / (24 * 3600 * 1000));\n        if (days > 0) return days + \" days ago\";\n        var leave1 = span % (24 * 3600 * 1000); //计算天数后剩余的毫秒数\n        var hours = Math.floor(leave1 / (3600 * 1000));\n        if (hours > 0) return hours + \" hours ago\";\n        var leave2 = leave1 % (3600 * 1000); //计算小时数后剩余的毫秒数\n        var minutes = Math.floor(leave2 / (60 * 1000));\n        if (minutes > 0) return minutes + \" minutes ago\";\n        var leave3 = leave2 % (60 * 1000); //计算分钟数后剩余的毫秒数\n        var seconds = Math.round(leave3 / 1000);\n        if (seconds > 0) return seconds + \" seconds ago\";\n    }\n});\n\n/***/ }),\n\n/***/ 115:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(46);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(45);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common_datetime__ = __webpack_require__(105);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_browser__ = __webpack_require__(47);\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'home',\n  data: function data() {\n    return {\n      articles: [],\n      category: this.$route.params.category,\n      keyword: this.$route.params.keyword,\n      isMobile: __WEBPACK_IMPORTED_MODULE_3__common_browser__[\"a\" /* default */].mobile,\n      currentPage: 0,\n      pageSize: 10,\n\n      //loading\n      loadingMoreText: '点击载入更多'\n    };\n  },\n\n  mounted: function () {\n    var _ref = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee() {\n      return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.getArticle();\n\n            case 1:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  methods: {\n    getArticle: function getArticle() {\n      var _this = this;\n\n      return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee2() {\n        var data;\n        return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                // load db\n                data = [];\n\n                if (!(!_this.$route.params.category && !_this.$route.params.keyword)) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                _context2.next = 4;\n                return _this.$db.getArticle(_this, {\n                  pagenum: _this.currentPage,\n                  pagesize: _this.pageSize\n                });\n\n              case 4:\n                data = _context2.sent;\n\n              case 5:\n                if (!_this.$route.params.category) {\n                  _context2.next = 9;\n                  break;\n                }\n\n                _context2.next = 8;\n                return _this.$db.getArticle(_this, {\n                  category: _this.category,\n                  pagenum: _this.currentPage,\n                  pagesize: _this.pageSize\n                });\n\n              case 8:\n                data = _context2.sent;\n\n              case 9:\n                if (!_this.$route.params.keyword) {\n                  _context2.next = 13;\n                  break;\n                }\n\n                _context2.next = 12;\n                return _this.$db.getArticle(_this, {\n                  keyword: _this.keyword,\n                  pagenum: _this.currentPage,\n                  pagesize: _this.pageSize\n                });\n\n              case 12:\n                data = _context2.sent;\n\n              case 13:\n\n                if (data.length <= 0) {\n                  _this.loadingMoreText = '没有更多了';\n                } else {\n                  // format the date and push\n                  data.forEach(function (element) {\n                    element.time = __WEBPACK_IMPORTED_MODULE_2__common_datetime__[\"a\" /* default */].dateFormat(element.time);\n                    this.articles.push(element);\n                  }, _this);\n                }\n\n              case 14:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this);\n      }))();\n    },\n    getMoreArticle: function getMoreArticle() {\n      this.currentPage++;\n      this.getArticle();\n    },\n    resetArticle: function resetArticle() {\n      this.articles = [];\n      this.currentPage = 0;\n      this.loadingMoreText = '点击载入更多';\n    }\n  },\n  watch: {\n    '$route': function $route() {\n      var _this2 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee3() {\n        return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _this2.category = _this2.$route.params.category;\n                _this2.keyword = _this2.$route.params.keyword;\n                _this2.resetArticle();\n                _this2.getArticle();\n\n              case 4:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this2);\n      }))();\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 124:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(96)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".article .image[data-v-5aaaf802]{width:25%}.article .details[data-v-5aaaf802]{width:calc(100% - 25% - 30px)}\", \"\", {\"version\":3,\"sources\":[\"D:/MyGit/TT/tt.blog/src/pages/home.vue\"],\"names\":[],\"mappings\":\"AACA,iCACE,SAAW,CACZ,AACD,mCACE,6BAA+B,CAChC\",\"file\":\"home.vue\",\"sourcesContent\":[\"\\n.article .image[data-v-5aaaf802] {\\n  width: 25%;\\n}\\n.article .details[data-v-5aaaf802] {\\n  width: calc(100% - 25% - 30px);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 133:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(124);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(97)(\"6cc08788\", content, true);\n\n/***/ }),\n\n/***/ 143:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_vm._l((_vm.articles), function(item) {\n    return _c('router-link', {\n      key: item.id,\n      staticClass: \"article list\",\n      attrs: {\n        \"to\": '/article/id=' + item._id\n      }\n    }, [_c('div', {\n      staticClass: \"image\"\n    }, [_c('img', {\n      attrs: {\n        \"src\": item.image\n      }\n    })]), _c('div', {\n      staticClass: \"details\"\n    }, [_c('div', {\n      staticClass: \"name\"\n    }, [_vm._v(_vm._s(item.name))]), _c('div', {\n      staticClass: \"meta\"\n    }, [_c('div', {\n      staticClass: \"time\"\n    }, [_c('i', {\n      staticClass: \"icon calendar\"\n    }), _c('span', [_vm._v(_vm._s(item.time))])]), _c('span', [_vm._v(\" \")]), _c('div', {\n      staticClass: \"view_count\"\n    }, [_c('i', {\n      staticClass: \"icon hand pointer\"\n    }), _c('span', [_vm._v(_vm._s(item.view_count))])])]), _c('div', {\n      staticClass: \"brief\"\n    }, [_vm._v(_vm._s(item.brief))])])])\n  }), _c('div', {\n    staticClass: \"center aligned\"\n  }, [_c('button', {\n    staticClass: \"flat-button\",\n    staticStyle: {\n      \"margin-bottom\": \"20px\"\n    },\n    on: {\n      \"click\": _vm.getMoreArticle\n    }\n  }, [_vm._v(_vm._s(_vm.loadingMoreText))])])], 2)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 24:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(133)\n}\nvar Component = __webpack_require__(23)(\n  /* script */\n  __webpack_require__(115),\n  /* template */\n  __webpack_require__(143),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-5aaaf802\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/0.8ac8f3bd797183647398.js","/*\r\n * Name: datetime.js\r\n * Desc: date and time formatter\r\n * Author: T.T\r\n * Last Update: 2017/5/12 09:13\r\n */\r\n\r\nexport default {\r\n    dateFormat(value) {\r\n        var da = new Date(value.replace(\"/Date(\", \"\").replace(\")/\", \"\").split(\"+\")[0]);\r\n        return da.getFullYear() + \"-\" + ((da.getMonth() + 1) < 10 ? \"0\" + (da.getMonth() + 1) : (da.getMonth() + 1)) + \"-\" + (da.getDate() < 10 ? \"0\" + da.getDate() : da.getDate()) + \" \" + (da.getHours() < 10 ? \"0\" + da.getHours() : da.getHours()) + \":\" + (da.getMinutes() < 10 ? \"0\" + da.getMinutes() : da.getMinutes()) + \":\" + (da.getSeconds() < 10 ? \"0\" + da.getSeconds() : da.getSeconds());\r\n    },\r\n    getTimespan(time) {\r\n        var tarTime = new Date(this.dateFormat(time));\r\n        var now = new Date();\r\n        var span = now.getTime() - tarTime.getTime();\r\n\r\n        var days = Math.floor(span / (24 * 3600 * 1000));\r\n        if (days > 0)\r\n            return days + \" days ago\";\r\n        var leave1 = span % (24 * 3600 * 1000); //计算天数后剩余的毫秒数\r\n        var hours = Math.floor(leave1 / (3600 * 1000));\r\n        if (hours > 0)\r\n            return hours + \" hours ago\";\r\n        var leave2 = leave1 % (3600 * 1000); //计算小时数后剩余的毫秒数\r\n        var minutes = Math.floor(leave2 / (60 * 1000));\r\n        if (minutes > 0)\r\n            return minutes + \" minutes ago\";\r\n        var leave3 = leave2 % (60 * 1000); //计算分钟数后剩余的毫秒数\r\n        var seconds = Math.round(leave3 / 1000);\r\n        if (seconds > 0)\r\n            return seconds + \" seconds ago\";\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/datetime.js","<template lang=\"jade\">\r\n  div\r\n    router-link.article.list(v-for=\"item in articles\", :key=\"item.id\", :to=\"'/article/id=' + item._id\")\r\n      .image\r\n        img(:src=\"item.image\")\r\n      .details\r\n        .name {{item.name}}\r\n        .meta\r\n            div.time\r\n                i.icon.calendar\r\n                span {{item.time}}\r\n            span &nbsp;\r\n            div.view_count\r\n                i.icon.hand.pointer\r\n                span {{item.view_count}}\r\n        .brief {{item.brief}}\r\n    .center.aligned\r\n      button.flat-button(@click=\"getMoreArticle\", style=\"margin-bottom: 20px\") {{loadingMoreText}}\r\n</template>\r\n\r\n<script>\r\nimport Datetime from '@/common/datetime'\r\nimport Browser from '@/common/browser'\r\n\r\nexport default {\r\n  name: 'home',\r\n  data() {\r\n    return {\r\n      articles: [],\r\n      category: this.$route.params.category,\r\n      keyword: this.$route.params.keyword,\r\n      isMobile: Browser.mobile,\r\n      currentPage: 0,\r\n      pageSize: 10,\r\n\r\n      //loading\r\n      loadingMoreText: '点击载入更多'\r\n    }\r\n  },\r\n  mounted: async function() {\r\n    this.getArticle();\r\n  },\r\n  methods: {\r\n    async getArticle() {\r\n      // load db\r\n      let data = [];\r\n      if (!this.$route.params.category && !this.$route.params.keyword) {\r\n        data = await this.$db.getArticle(this, {\r\n          pagenum: this.currentPage,\r\n          pagesize: this.pageSize\r\n        });\r\n      }\r\n      if (this.$route.params.category) {\r\n        data = await this.$db.getArticle(this, {\r\n          category: this.category,\r\n          pagenum: this.currentPage,\r\n          pagesize: this.pageSize\r\n        })\r\n      }\r\n      if (this.$route.params.keyword) {\r\n        data = await this.$db.getArticle(this, {\r\n          keyword: this.keyword,\r\n          pagenum: this.currentPage,\r\n          pagesize: this.pageSize\r\n        })\r\n      }\r\n\r\n      if (data.length <= 0) {\r\n        this.loadingMoreText = '没有更多了'\r\n      }\r\n      else {\r\n        // format the date and push\r\n        data.forEach(function(element) {\r\n          element.time = Datetime.dateFormat(element.time)\r\n          this.articles.push(element);\r\n        }, this);\r\n      }\r\n    },\r\n    getMoreArticle() {\r\n      this.currentPage++;\r\n      this.getArticle();\r\n    },\r\n    resetArticle() {\r\n      this.articles = []\r\n      this.currentPage = 0\r\n      this.loadingMoreText = '点击载入更多'\r\n    }\r\n  },\r\n  watch: {\r\n    async '$route'() {\r\n      this.category = this.$route.params.category\r\n      this.keyword = this.$route.params.keyword\r\n      this.resetArticle()\r\n      this.getArticle()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.article{\r\n  .image{\r\n    width: 25%;\r\n  }\r\n  .details{\r\n    width: calc(100% - 25% - 30px);\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// home.vue?6e741184","exports = module.exports = require(\"../../node_modules/_css-loader@0.28.5@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".article .image[data-v-5aaaf802]{width:25%}.article .details[data-v-5aaaf802]{width:calc(100% - 25% - 30px)}\", \"\", {\"version\":3,\"sources\":[\"D:/MyGit/TT/tt.blog/src/pages/home.vue\"],\"names\":[],\"mappings\":\"AACA,iCACE,SAAW,CACZ,AACD,mCACE,6BAA+B,CAChC\",\"file\":\"home.vue\",\"sourcesContent\":[\"\\n.article .image[data-v-5aaaf802] {\\n  width: 25%;\\n}\\n.article .details[data-v-5aaaf802] {\\n  width: calc(100% - 25% - 30px);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.5@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-5aaaf802\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_sass-loader@6.0.6@sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/home.vue\n// module id = 124\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/_css-loader@0.28.5@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5aaaf802\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/_sass-loader@6.0.6@sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./home.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/_vue-style-loader@3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"6cc08788\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@3.0.1@vue-style-loader!./~/_css-loader@0.28.5@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-5aaaf802\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_sass-loader@6.0.6@sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/home.vue\n// module id = 133\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_vm._l((_vm.articles), function(item) {\n    return _c('router-link', {\n      key: item.id,\n      staticClass: \"article list\",\n      attrs: {\n        \"to\": '/article/id=' + item._id\n      }\n    }, [_c('div', {\n      staticClass: \"image\"\n    }, [_c('img', {\n      attrs: {\n        \"src\": item.image\n      }\n    })]), _c('div', {\n      staticClass: \"details\"\n    }, [_c('div', {\n      staticClass: \"name\"\n    }, [_vm._v(_vm._s(item.name))]), _c('div', {\n      staticClass: \"meta\"\n    }, [_c('div', {\n      staticClass: \"time\"\n    }, [_c('i', {\n      staticClass: \"icon calendar\"\n    }), _c('span', [_vm._v(_vm._s(item.time))])]), _c('span', [_vm._v(\" \")]), _c('div', {\n      staticClass: \"view_count\"\n    }, [_c('i', {\n      staticClass: \"icon hand pointer\"\n    }), _c('span', [_vm._v(_vm._s(item.view_count))])])]), _c('div', {\n      staticClass: \"brief\"\n    }, [_vm._v(_vm._s(item.brief))])])])\n  }), _c('div', {\n    staticClass: \"center aligned\"\n  }, [_c('button', {\n    staticClass: \"flat-button\",\n    staticStyle: {\n      \"margin-bottom\": \"20px\"\n    },\n    on: {\n      \"click\": _vm.getMoreArticle\n    }\n  }, [_vm._v(_vm._s(_vm.loadingMoreText))])])], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-5aaaf802\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler/preprocessor.js?engine=jade!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/pages/home.vue\n// module id = 143\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5aaaf802\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=styles&index=0!./home.vue\")\n}\nvar Component = require(\"!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./home.vue\"),\n  /* template */\n  require(\"!!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5aaaf802\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/preprocessor?engine=jade!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./home.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-5aaaf802\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/home.vue\n// module id = 24\n// module chunks = 0"],"sourceRoot":""}