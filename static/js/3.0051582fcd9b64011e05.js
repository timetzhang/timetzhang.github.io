webpackJsonp([3],{100:function(t,e,i){function a(t){i(129)}var r=i(23)(i(113),i(139),a,"data-v-2ca91cb4",null);t.exports=r.exports},105:function(t,e,i){"use strict";e.a={dateFormat:function(t){var e=new Date(t.replace("/Date(","").replace(")/","").split("+")[0]);return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())+" "+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())},getTimespan:function(t){var e=new Date(this.dateFormat(t)),i=new Date,a=i.getTime()-e.getTime(),r=Math.floor(a/864e5);if(r>0)return r+" days ago";var n=a%864e5,o=Math.floor(n/36e5);if(o>0)return o+" hours ago";var s=n%36e5,c=Math.floor(s/6e4);if(c>0)return c+" minutes ago";var u=s%6e4,d=Math.round(u/1e3);return d>0?d+" seconds ago":void 0}}},106:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"VueUEditor",props:{ueditorPath:{type:String,default:"/static/ueditor1_4_3_3/"},ueditorConfig:{type:Object,default:function(){return{}}}},data:function(){return{randomId:"editor_"+1e17*Math.random(),instance:null,scriptTagStatus:0}},created:function(){void 0!==window.UE?(this.scriptTagStatus=2,this.initEditor()):this.insertScriptTag()},beforeDestroy:function(){null!==this.instance&&this.instance.destroy&&this.instance.destroy()},methods:{insertScriptTag:function(){var t=this,e=document.getElementById("editorScriptTag"),i=document.getElementById("configScriptTag");if(null===e){i=document.createElement("script"),i.type="text/javascript",i.src=this.ueditorPath+"ueditor.config.js",i.id="configScriptTag",e=document.createElement("script"),e.type="text/javascript",e.src=this.ueditorPath+"ueditor.all.js",e.id="editorScriptTag";var a=document.getElementsByTagName("head")[0];a.appendChild(i),a.appendChild(e)}i.loaded?this.scriptTagStatus++:i.addEventListener("load",function(){t.scriptTagStatus++,i.loaded=!0,t.initEditor()}),e.loaded?this.scriptTagStatus++:e.addEventListener("load",function(){t.scriptTagStatus++,e.loaded=!0,t.initEditor()}),this.initEditor()},initEditor:function(){var t=this;2===this.scriptTagStatus&&null===this.instance&&this.$nextTick(function(){t.instance=window.UE.getEditor(t.randomId,t.ueditorConfig),t.instance.addListener("ready",function(){t.$emit("ready",t.instance)})})}}}},107:function(t,e,i){var a=i(23)(i(106),i(108),null,null,null);t.exports=a.exports},108:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("script",{attrs:{id:t.randomId,name:"content",type:"text/plain"}})},staticRenderFns:[]}},109:function(t,e,i){"use strict";var a=i(107),r=i.n(a);e.a=r.a},113:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(46),r=i.n(a),n=i(45),o=i.n(n),s=(i(105),i(109));e.default={name:"article-edit",components:{ueditor:s.a},data:function(){return{article:{}}},created:function(){function t(){return e.apply(this,arguments)}var e=o()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$db.getArticleDetails(this,{id:this.$route.params.id});case 2:this.article=t.sent.details,this.article.keywords=this.article.keywords.join(",");case 4:case"end":return t.stop()}},t,this)}));return t}(),methods:{editorReady:function(t){var e=this;t.setContent(this.article.details),t.addListener("contentChange",function(){e.article.details=t.getContent()})},submit:function(){var t=this;return o()(r.a.mark(function e(){var i,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.article.name&&t.article.brief&&t.article.details&&t.article.category)){e.next=8;break}return i=new Array,t.article.keywords.split(",").forEach(function(t){i.push(t.trim())},t),t.article.keywords=i,e.next=6,t.$db.setArticle(t,t.article);case 6:a=e.sent,parseInt(a.insertedCount)>0&&t.$router.push("/");case 8:case"end":return e.stop()}},e,t)}))()}},watch:{}}},120:function(t,e,i){e=t.exports=i(96)(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"edit.vue",sourceRoot:""}])},129:function(t,e,i){var a=i(120);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(97)("04d96af0",a,!0)},139:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.article.name,expression:"article.name"}],staticStyle:{width:"98%"},attrs:{placeholder:"Name"},domProps:{value:t.article.name},on:{input:function(e){e.target.composing||(t.article.name=e.target.value)}}}),i("br"),i("input",{directives:[{name:"model",rawName:"v-model",value:t.article.image,expression:"article.image"}],staticStyle:{width:"98%"},attrs:{placeholder:"Head Image"},domProps:{value:t.article.image},on:{input:function(e){e.target.composing||(t.article.image=e.target.value)}}}),i("br"),i("br"),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.article.brief,expression:"article.brief"}],staticStyle:{width:"97%"},attrs:{placeholder:"Brief",rows:"4"},domProps:{value:t.article.brief},on:{input:function(e){e.target.composing||(t.article.brief=e.target.value)}}}),i("br"),i("input",{directives:[{name:"model",rawName:"v-model",value:t.article.keywords,expression:"article.keywords"}],staticStyle:{width:"98%"},attrs:{placeholder:"Keywords"},domProps:{value:t.article.keywords},on:{input:function(e){e.target.composing||(t.article.keywords=e.target.value)}}}),i("br"),i("select",{directives:[{name:"model",rawName:"v-model",value:t.article.category,expression:"article.category"}],staticStyle:{"margin-top":"10px"},attrs:{name:"category"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.article.category=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"think"}},[t._v("Think")]),i("option",{attrs:{value:"science"}},[t._v("Science")]),i("option",{attrs:{value:"music"}},[t._v("Music")]),i("option",{attrs:{value:"code"}},[t._v("Code")]),i("option",{attrs:{value:"design"}},[t._v("Design")]),i("option",{attrs:{value:"misc"}},[t._v("Misc")])]),i("br"),i("br"),i("ueditor",{on:{ready:t.editorReady}}),i("br"),i("div",{staticClass:"center aligned"},[i("button",{staticClass:"raised-button",staticStyle:{width:"200px"},on:{click:t.submit}},[t._v("Submit")])])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=3.0051582fcd9b64011e05.js.map